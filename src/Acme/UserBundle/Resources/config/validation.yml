# Acme/UserBundle/Resources/config/validation.yml
Acme\UserBundle\Entity\User:
    group_sequence:
        - User
        - Strict
    constraints:
        - Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity: username
        - Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity: email        
    properties:
        username:
            # in order to avoid multiple error messages     
            - Regex:
                pattern:  /^[a-zA-Z\d]+[\w.-]*[a-zA-Z\d]$/
                match:    true
                message:  Your name is not illegal
                groups:   [Strict]

            - NotBlank: ~
            - Length:
                min: 4
        password:
            - NotBlank: ~
            - Length:
                min: 4
        email:
            - NotBlank: ~
            - Email: ~
    getters:
        passwordLegal:
            - "True": 
                message: "The password cannot match your username"
                groups: [Strict]

            
